-- üß± ‡πÇ‡∏´‡∏•‡∏î Rayfield Library
local Rayfield = loadstring(game:HttpGet('https://sirius.menu/rayfield'))()

-- üì¶ Services & Remote Events
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local Remotes = ReplicatedStorage:WaitForChild("Remotes")

local PetCageEvent = Remotes:WaitForChild("PetCageEvent")
local UpgradeEvent = Remotes:WaitForChild("UpgradeEvent")
local SpinPrizeEvent = Remotes:WaitForChild("SpinPrizeEvent")
local AddRewardEvent = Remotes:WaitForChild("AddRewardEvent")

local SpinWheelRewardsModule = require(ReplicatedStorage:WaitForChild("SpinWheelRewardsModule"))

-- ü™ü ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏´‡∏ô‡πâ‡∏≤‡∏ï‡πà‡∏≤‡∏á‡∏´‡∏•‡∏±‡∏Å
local Window = Rayfield:CreateWindow({
    Name = "NOOBHUB [ FREE SRC ]",
    LoadingTitle = "NOOBHUB Utility",
    LoadingSubtitle = "Powered by Rayfield UI",
    ConfigurationSaving = {
        Enabled = true,
        FolderName = "NOOBHUB",
        FileName = "Settings"
    },
    Discord = {
        Enabled = false,
    },
    KeySystem = false,
})

-- üìÅ ‡πÅ‡∏ó‡πá‡∏ö‡∏´‡∏•‡∏±‡∏Å
local MainTab = Window:CreateTab("MAIN", 4483362458)

MainTab:CreateSection(game:GetService("MarketplaceService"):GetProductInfo(game.PlaceId).Name)

-- üí∞ Cash
MainTab:CreateInput({
    Name = "Cash",
    PlaceholderText = "Input Number",
    RemoveTextAfterFocusLost = false,
    Callback = function(value)
        AddRewardEvent:FireServer("Cash", tonumber(value))
    end
})

-- üíé Gems
MainTab:CreateInput({
    Name = "Gem",
    PlaceholderText = "Input Number",
    RemoveTextAfterFocusLost = false,
    Callback = function(value)
        AddRewardEvent:FireServer("Gems", tonumber(value))
    end
})

-- ‚ôæÔ∏è Infinite Rewards
MainTab:CreateButton({
    Name = "INF GEM , Cash",
    Callback = function()
        AddRewardEvent:FireServer("Gems", 1/0)
        AddRewardEvent:FireServer("Cash", 1/0)
    end
})

-- üé° Spin Rewards
local Lis = {
    "100 Gems",
    "2.5K Cash",
    "1 Spins",
    "Pet Triple Dominus",
    "250 Gems",
    "1K Cash",
    "3 Spins",
    "10 CashMulti",
    "75 Gems",
    "10 Spins"
}

MainTab:CreateDropdown({
    Name = "Rewards Spin",
    Options = Lis,
    CurrentOption = "100 Gems",
    Flag = "RewardSelect",
    Callback = function(v)
        if type(v) == "table" then
            _G.Rewards = table.find(Lis, v[1])
        else
            _G.Rewards = table.find(Lis, v)
        end
    end
})

MainTab:CreateButton({
    Name = "Give Rewards",
    Callback = function()
        if _G.Rewards then
            SpinPrizeEvent:FireServer(_G.Rewards)
        else
            Rayfield:Notify({
                Title = "Error",
                Content = "Please select a reward first!",
                Duration = 3,
                Image = 4483362458
            })
        end
    end
})

-- ‚öôÔ∏è Upgrades
local UpgradesLis = {
    "WalkSpeed",
    "Strength",
    "GemChance",
    "PetLuck"
}

MainTab:CreateDropdown({
    Name = "Select Upgrades",
    Options = UpgradesLis,
    CurrentOption = "WalkSpeed",
    Flag = "UpgradeSelect",
    Callback = function(v)
        if type(v) == "table" then
            _G.Upgrades = v[1]
        else
            _G.Upgrades = v
        end
    end
})

MainTab:CreateButton({
    Name = "Give Upgrade",
    Callback = function()
        if _G.Upgrades then
            UpgradeEvent:FireServer(_G.Upgrades, -1)
            Rayfield:Notify({
                Title = "NOOBHUB",
                Content = "Upgrade applied: " .. tostring(_G.Upgrades),
                Duration = 4,
                Image = 4483362458
            })
        else
            Rayfield:Notify({
                Title = "Error",
                Content = "Select upgrade first!",
                Duration = 3,
                Image = 4483362458
            })
        end
    end
})

-- ‚õèÔ∏è Pickaxe
local PickaxeTable = {}
for i, v in pairs(ReplicatedStorage:WaitForChild("Pickaxes"):GetChildren()) do
    table.insert(PickaxeTable, v.Name)
end

MainTab:CreateDropdown({
    Name = "Select Pickaxe",
    Options = PickaxeTable,
    CurrentOption = PickaxeTable[1],
    Flag = "PickaxeSelect",
    Callback = function(v)
        if type(v) == "table" then
            _G.SelectPickaxe = v[1]
        else
            _G.SelectPickaxe = v
        end
    end
})

MainTab:CreateButton({
    Name = "Change Pickaxe Ability",
    Callback = function()
        local player = game.Players.LocalPlayer
        if _G.SelectPickaxe and type(_G.SelectPickaxe) == "string" then
            player:SetAttribute("SelectedPickaxe", tostring(_G.SelectPickaxe))
            Rayfield:Notify({
                Title = "NOOBHUB",
                Content = "Changed Pickaxe to: " .. tostring(_G.SelectPickaxe),
                Duration = 4,
                Image = 4483362458
            })
        else
            Rayfield:Notify({
                Title = "Error",
                Content = "Invalid or no pickaxe selected!",
                Duration = 4,
                Image = 4483362458
            })
        end
    end
})

-- ‚öôÔ∏è SETTINGS TAB
local SettingsTab = Window:CreateTab("SETTINGS", 7743872051)

SettingsTab:CreateSection("Interface Options")

SettingsTab:CreateButton({
    Name = "Destroy UI",
    Callback = function()
        if game.CoreGui:FindFirstChild("Rayfield") then
            game.CoreGui.Rayfield:Destroy()
        end
    end
})

SettingsTab:CreateButton({
    Name = "Reload UI",
    Callback = function()
        Rayfield:LoadConfiguration()
        Rayfield:Notify({
            Title = "NOOBHUB",
            Content = "UI Reloaded!",
            Duration = 3,
            Image = 4483362458
        })
    end
})

SettingsTab:CreateSection("About")
SettingsTab:CreateLabel("NOOBHUB FREE SRC v3.0")
SettingsTab:CreateLabel("Made with ‚ù§Ô∏è by ChatGPT & Rayfield UI")

-- ‚úÖ ‡πÇ‡∏´‡∏•‡∏î Config
Rayfield:LoadConfiguration()
